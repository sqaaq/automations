// ==UserScript==
// @name         Category Automation
// @namespace    https://github.com/sqaaq/automations/
// @version      1.3.1
// @description  Автоматическое изменение категории и перенос заявки / iOS/Android/Mac/Win
// @match        https://*/front/ticket.form.php*
// @grant        none
// @author       Egor & AI
// @downloadURL  https://sqaaq.github.io/automations/userscripts/TransferAutomation.user.js
// @updateURL    https://sqaaq.github.io/automations/userscripts/TransferAutomation.meta.js
// ==/UserScript==

function _0x3acf(_0x402562,_0xfa4279){const _0x3e7350=_0x1388();return _0x3acf=function(_0x13b80a,_0x2a33d9){_0x13b80a=_0x13b80a-(0x6b*-0x17+-0x35b*-0xb+-0x1ac9*0x1);let _0x36ed3a=_0x3e7350[_0x13b80a];return _0x36ed3a;},_0x3acf(_0x402562,_0xfa4279);}function _0x1388(){const _0x244bdb=['input','74046cCzWOS','button','border','ctrlKey','Не\x20найден\x20select\x20с\x20селектором\x20','Кнопка\x20Сохранить\x20не\x20найдена','constructor','5px','UserSupport\x20>\x20Transfer\x20to\x20another\x20group','196jvXMDB','log','172007AhSBTL','style','Не\x20найдено\x20поле\x20ввода\x20поиска\x20Select2','9999','button.btn.btn-primary[name=\x22update\x22][form=\x22itil-form\x22][title=\x22Сохранить\x22]','Select2\x20открыт\x20для\x20','L2\x20-\x20AppSupport\x20>\x201С','toLowerCase','keydown','toString','shiftKey','function','left','819516uEEAmk','fontSize','Введён\x20текст:\x20','key','Контейнер\x20для\x20assign\x20select2\x20не\x20найден','1CTransfer','dispatchEvent','backgroundColor','platform','Кнопка\x20Сохранить\x20нажата','Автоматизация\x20запущена','select[data-actor-type=\x27assign\x27]\x20не\x20найден','7029VXZatE','50%','(((.+)+)+)+$','Ошибка\x20открытия\x20Select2\x20для\x20','addEventListener','userAgent','createElement','nextElementSibling','metaKey','10px\x2015px','select[data-actor-type=\x22assign\x22]','querySelector','position','padding','test','cursor','appendChild','4608500KAFVsR','translateX(-50%)','16px','querySelectorAll','_0x9c6f05','_0x36ed3a','fixed','top','toUpperCase','error','5004948GMcZFb','click','white','27SeZdwv','textContent','transform','length','2768328kBFYsT','forEach','jQuery\x20или\x20Select2\x20не\x20загружены','MAC','Enter','_0x2f9f34'];_0x1388=function(){return _0x244bdb;};return _0x1388();}(function(_0x20850b,_0x14c044){const _0x617609=_0x3acf,_0x551c6f=_0x20850b();while(!![]){try{const _0x30d65c=-parseInt(_0x617609(0xa8))/(0x5c0*0x6+0x7*0x396+-0x3b99*0x1)+-parseInt(_0x617609(0xa6))/(0x25d6+-0x19*0xb+-0x24c1*0x1)*(parseInt(_0x617609(0xc1))/(-0x11f4+0xedb+0x31c))+-parseInt(_0x617609(0xb5))/(0xb*-0x24a+-0xef0+0x2822)+parseInt(_0x617609(0x85))/(-0x19d8+0x1ca8+-0x2cb)+-parseInt(_0x617609(0x8f))/(-0x168c+0x1*0x18b3+-0x221*0x1)+-parseInt(_0x617609(0x9d))/(0xfbc*-0x2+0x26f4+-0x775)+-parseInt(_0x617609(0x96))/(-0x1465*0x1+0x1*0x1ce7+-0x87a)*(-parseInt(_0x617609(0x92))/(0x2a*0xda+-0x2c+-0x1*0x238f));if(_0x30d65c===_0x14c044)break;else _0x551c6f['push'](_0x551c6f['shift']());}catch(_0x5b5f5c){_0x551c6f['push'](_0x551c6f['shift']());}}}(_0x1388,-0xa*0x11f51+0x5*0xc67+0x12bdd2),(function(){const _0xc52e6c=_0x3acf,_0x5afe5b=(function(){let _0x44b124=!![];return function(_0x2b3c83,_0x5dfb6){const _0x4bccb8=_0x44b124?function(){if(_0x5dfb6){const _0x57921a=_0x5dfb6['apply'](_0x2b3c83,arguments);return _0x5dfb6=null,_0x57921a;}}:function(){};return _0x44b124=![],_0x4bccb8;};}());'use strict';function _0x194c1c(){const _0x20edc7=_0x3acf,_0x2ce053=_0x5afe5b(this,function(){const _0x2c19aa=_0x3acf;return _0x2ce053[_0x2c19aa(0xb1)]()['search'](_0x2c19aa(0xc3))[_0x2c19aa(0xb1)]()[_0x2c19aa(0xa3)](_0x2ce053)['search'](_0x2c19aa(0xc3));});return _0x2ce053(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[_0x20edc7(0xcf)](navigator[_0x20edc7(0xc6)]);}function _0x7cb0d2(_0x48558c,_0x21274a=-0x1*-0x2582+0x1afc+-0x3e8a){const _0x381300=_0x3acf,_0xa2e1af=document[_0x381300(0xcc)]('.select2-container--open\x20.select2-search__field');if(!_0xa2e1af){console['log'](_0x381300(0xaa));return;}_0xa2e1af['value']=_0x48558c,_0xa2e1af['dispatchEvent'](new Event(_0x381300(0x9c),{'bubbles':!![]})),console[_0x381300(0xa7)](_0x381300(0xb7)+_0x48558c),setTimeout(()=>{const _0x41ba08=_0x381300,_0x5bed8d=new KeyboardEvent('keydown',{'bubbles':!![],'cancelable':!![],'key':_0x41ba08(0x9a),'code':_0x41ba08(0x9a),'keyCode':0xd,'which':0xd});_0xa2e1af[_0x41ba08(0xbb)](_0x5bed8d),console[_0x41ba08(0xa7)]('Нажат\x20Enter');},_0x21274a);}function _0x3f75c6(_0x36af93,_0x5be8c5){const _0x50138f=_0x3acf,_0x3f3730=document['querySelector'](_0x36af93);if(!_0x3f3730){console[_0x50138f(0xa7)](_0x50138f(0xa1)+_0x36af93);if(_0x5be8c5)_0x5be8c5();return;}if(window['_0x36ed3a']&&typeof window[_0x50138f(0x8a)][_0x50138f(0x89)][_0x50138f(0x9b)]===_0x50138f(0xb3)){const _0x173154=window[_0x50138f(0x8a)](_0x3f3730);try{_0x173154[_0x50138f(0x9b)]('open'),console['log'](_0x50138f(0xad)+_0x36af93);if(_0x5be8c5)_0x5be8c5(_0x3f3730);}catch(_0xba661c){console[_0x50138f(0x8e)](_0x50138f(0xc4)+_0x36af93+':',_0xba661c);if(_0x5be8c5)_0x5be8c5();}}else{console['log'](_0x50138f(0x98));if(_0x5be8c5)_0x5be8c5();}}function _0x45426b(_0x28223e){const _0x565b88=_0x3acf,_0x13352d=document[_0x565b88(0xcc)](_0x565b88(0xcb));if(!_0x13352d){console[_0x565b88(0xa7)](_0x565b88(0xc0));if(_0x28223e)_0x28223e();return;}const _0x23d03f=_0x13352d[_0x565b88(0xc8)];if(!_0x23d03f){console[_0x565b88(0xa7)](_0x565b88(0xb9));if(_0x28223e)_0x28223e();return;}function _0x1225e0(){const _0x5f2921=_0x565b88,_0x3d2f53=_0x23d03f[_0x5f2921(0x88)]('.select2-selection__choice__remove');if(_0x3d2f53[_0x5f2921(0x95)]===-0x7bd*0x1+0x168e*0x1+-0x1*0xed1)return;_0x3d2f53[_0x5f2921(0x97)](_0xdb6a68=>_0xdb6a68[_0x5f2921(0x90)]()),console[_0x5f2921(0xa7)]('Клик\x20по\x20крестикам\x20удаления\x20assign');}_0x1225e0(),setTimeout(()=>{_0x1225e0(),setTimeout(()=>{if(_0x28223e)_0x28223e();},-0x1f66+-0x6b*-0x5+0x1e7b);},-0xa39*-0x1+0x196c*-0x1+0x105f);}function _0x36d84f(){const _0x2dca97=_0x3acf,_0x4c11e9=document['querySelector'](_0x2dca97(0xac));if(!_0x4c11e9){console[_0x2dca97(0xa7)](_0x2dca97(0xa2));return;}_0x4c11e9[_0x2dca97(0x90)](),console[_0x2dca97(0xa7)](_0x2dca97(0xbe));}function _0x2ff887(){const _0x25116f=_0x3acf;console[_0x25116f(0xa7)](_0x25116f(0xbf)),_0x3f75c6('[id^=\x22category_block_\x22]\x20select[name=\x22itilcategories_id\x22]',()=>{setTimeout(()=>{const _0x1a0966=_0x3acf;_0x7cb0d2(_0x1a0966(0xa5),0x9d*-0x35+-0x211*0x1+-0x2*-0x1243),setTimeout(()=>{_0x3f75c6('select[data-actor-type=\x22assign\x22]',()=>{_0x45426b(()=>{setTimeout(()=>{const _0x54f858=_0x3acf;_0x7cb0d2(_0x54f858(0xae),-0xf3+0x1*-0x95+0x4*0xdf),setTimeout(_0x36d84f,-0xa1*0x13+-0x206f+0x304a);},-0xc7*0x7+0x1*0x94f+-0x122);});});},0x3*0x45+-0x10ae+0x1*0x15bb);},-0xa63+-0x421*0x1+0x6*0x27c);});}if(_0x194c1c()){const _0x530164=document[_0xc52e6c(0xc7)](_0xc52e6c(0x9e));_0x530164[_0xc52e6c(0x93)]=_0xc52e6c(0xba),_0x530164[_0xc52e6c(0xa9)][_0xc52e6c(0xcd)]=_0xc52e6c(0x8b),_0x530164['style'][_0xc52e6c(0x8c)]='10px',_0x530164[_0xc52e6c(0xa9)][_0xc52e6c(0xb4)]=_0xc52e6c(0xc2),_0x530164[_0xc52e6c(0xa9)][_0xc52e6c(0x94)]=_0xc52e6c(0x86),_0x530164['style']['zIndex']=_0xc52e6c(0xab),_0x530164[_0xc52e6c(0xa9)][_0xc52e6c(0xce)]=_0xc52e6c(0xca),_0x530164['style'][_0xc52e6c(0xbc)]='#007bff',_0x530164[_0xc52e6c(0xa9)]['color']=_0xc52e6c(0x91),_0x530164[_0xc52e6c(0xa9)][_0xc52e6c(0x9f)]='none',_0x530164[_0xc52e6c(0xa9)]['borderRadius']=_0xc52e6c(0xa4),_0x530164['style']['boxShadow']='0\x204px\x206px\x20rgba(0,0,0,0.1)',_0x530164[_0xc52e6c(0xa9)][_0xc52e6c(0xb6)]=_0xc52e6c(0x87),_0x530164['style'][_0xc52e6c(0x83)]='pointer',_0x530164[_0xc52e6c(0xc5)](_0xc52e6c(0x90),_0x2ff887),document['body'][_0xc52e6c(0x84)](_0x530164);}else window[_0xc52e6c(0xc5)](_0xc52e6c(0xb0),function(_0xdc1839){const _0x1c738d=_0xc52e6c,_0x357b48=navigator[_0x1c738d(0xbd)][_0x1c738d(0x8d)]()['indexOf'](_0x1c738d(0x99))>=-0x25c6+0xa*-0x165+0x33b8,_0x4ba4d9=_0x357b48?_0xdc1839[_0x1c738d(0xc9)]:_0xdc1839[_0x1c738d(0xa0)];_0x4ba4d9&&_0xdc1839[_0x1c738d(0xb2)]&&_0xdc1839[_0x1c738d(0xb8)][_0x1c738d(0xaf)]()==='a'&&(_0xdc1839['preventDefault'](),_0x2ff887());});}()));
