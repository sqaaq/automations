// ==UserScript==
// @name         Category Automation
// @namespace    https://github.com/sqaaq/automations/
// @version      1.3.2
// @description  Автоматическое изменение категории и перенос заявки / iOS/Android/Mac/Win
// @match        https://*/front/ticket.form.php*
// @grant        none
// @author       Egor & AI
// @downloadURL  https://sqaaq.github.io/automations/userscripts/TransferAutomation.user.js
// @updateURL    https://sqaaq.github.io/automations/userscripts/TransferAutomation.meta.js
// ==/UserScript==

function _0x26a5(_0x33cd54,_0x4641eb){const _0x3f5696=_0x3f56();return _0x26a5=function(_0x26a529,_0x286a22){_0x26a529=_0x26a529-0xe5;let _0x31b6de=_0x3f5696[_0x26a529];return _0x31b6de;},_0x26a5(_0x33cd54,_0x4641eb);}function _0x3f56(){const _0xcbfbbc=['42710QLiOnL','input','MAC','userAgent','122174EObmtS','length','fixed','white','1781520YmElaE','8ripJnR','8801771QeUrFH','.select2-selection__choice__remove','2306822KfqcsH','metaKey','Кнопка\x20Сохранить\x20не\x20найдена','#007bff','jQuery','button.btn.btn-primary[name=\x22update\x22][form=\x22itil-form\x22][title=\x22Сохранить\x22]','test','shiftKey','position','10XtJlBU','Клик\x20по\x20крестикам\x20удаления\x20assign','10px','10px\x2015px','addEventListener','Введён\x20текст:\x20','indexOf','Автоматизация\x20запущена','error','jQuery\x20или\x20Select2\x20не\x20загружены','0\x204px\x206px\x20rgba(0,0,0,0.1)','ctrlKey','boxShadow','style','Кнопка\x20Сохранить\x20нажата','querySelectorAll','1373541cLvRNs','Ошибка\x20открытия\x20Select2\x20для\x20','1CTransfer','log','select[data-actor-type=\x22assign\x22]','click','nextElementSibling','Не\x20найден\x20select\x20с\x20селектором\x20','cursor','key','L2\x20-\x20AppSupport\x20>\x201С','border','toLowerCase','Не\x20найдено\x20поле\x20ввода\x20поиска\x20Select2','117SOWrDj','textContent','createElement','body','select[data-actor-type=\x27assign\x27]\x20не\x20найден','select2','pointer','Enter','querySelector','Нажат\x20Enter','backgroundColor','keydown','.select2-container--open\x20.select2-search__field','UserSupport\x20>\x20Transfer\x20to\x20another\x20group','2oqqgNA','451768AhDIgV','preventDefault','open','toUpperCase'];_0x3f56=function(){return _0xcbfbbc;};return _0x3f56();}(function(_0x398ee7,_0x51e1c0){const _0x2431a8=_0x26a5,_0x15bba4=_0x398ee7();while(!![]){try{const _0x297609=parseInt(_0x2431a8(0x10e))/0x1+-parseInt(_0x2431a8(0x105))/0x2*(parseInt(_0x2431a8(0xe9))/0x3)+-parseInt(_0x2431a8(0x106))/0x4*(parseInt(_0x2431a8(0x11f))/0x5)+parseInt(_0x2431a8(0x112))/0x6+-parseInt(_0x2431a8(0x116))/0x7*(parseInt(_0x2431a8(0x113))/0x8)+-parseInt(_0x2431a8(0xf7))/0x9*(-parseInt(_0x2431a8(0x10a))/0xa)+parseInt(_0x2431a8(0x114))/0xb;if(_0x297609===_0x51e1c0)break;else _0x15bba4['push'](_0x15bba4['shift']());}catch(_0x13b5da){_0x15bba4['push'](_0x15bba4['shift']());}}}(_0x3f56,0x3fd7d),(function(){'use strict';const _0xc8c690=_0x26a5;function _0xad1927(){const _0x52cde9=_0x26a5;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[_0x52cde9(0x11c)](navigator[_0x52cde9(0x10d)]);}function _0x1ca2a9(_0x4fa552,_0x43a3f2=0x1f4){const _0x2d1d20=_0x26a5,_0x4403f2=document[_0x2d1d20(0xff)](_0x2d1d20(0x103));if(!_0x4403f2){console[_0x2d1d20(0xec)](_0x2d1d20(0xf6));return;}_0x4403f2['value']=_0x4fa552,_0x4403f2['dispatchEvent'](new Event(_0x2d1d20(0x10b),{'bubbles':!![]})),console['log'](_0x2d1d20(0x124)+_0x4fa552),setTimeout(()=>{const _0x31ff11=_0x2d1d20,_0x58f132=new KeyboardEvent(_0x31ff11(0x102),{'bubbles':!![],'cancelable':!![],'key':_0x31ff11(0xfe),'code':_0x31ff11(0xfe),'keyCode':0xd,'which':0xd});_0x4403f2['dispatchEvent'](_0x58f132),console[_0x31ff11(0xec)](_0x31ff11(0x100));},_0x43a3f2);}function _0xa28f47(_0x26ae8e,_0x33ec8b){const _0x4f117e=_0x26a5,_0x5de205=document[_0x4f117e(0xff)](_0x26ae8e);if(!_0x5de205){console[_0x4f117e(0xec)](_0x4f117e(0xf0)+_0x26ae8e);if(_0x33ec8b)_0x33ec8b();return;}if(window[_0x4f117e(0x11a)]&&typeof window[_0x4f117e(0x11a)]['fn'][_0x4f117e(0xfc)]==='function'){const _0x4ffd9e=window['jQuery'](_0x5de205);try{_0x4ffd9e[_0x4f117e(0xfc)](_0x4f117e(0x108)),console[_0x4f117e(0xec)]('Select2\x20открыт\x20для\x20'+_0x26ae8e);if(_0x33ec8b)_0x33ec8b(_0x5de205);}catch(_0x2c12bf){console[_0x4f117e(0x127)](_0x4f117e(0xea)+_0x26ae8e+':',_0x2c12bf);if(_0x33ec8b)_0x33ec8b();}}else{console['log'](_0x4f117e(0x128));if(_0x33ec8b)_0x33ec8b();}}function _0x118589(_0x4cff08){const _0x248809=_0x26a5,_0x266e75=document[_0x248809(0xff)](_0x248809(0xed));if(!_0x266e75){console[_0x248809(0xec)](_0x248809(0xfb));if(_0x4cff08)_0x4cff08();return;}const _0x323fdb=_0x266e75[_0x248809(0xef)];if(!_0x323fdb){console[_0x248809(0xec)]('Контейнер\x20для\x20assign\x20select2\x20не\x20найден');if(_0x4cff08)_0x4cff08();return;}function _0x3e97b0(){const _0x19f997=_0x248809,_0x3ebf4e=_0x323fdb[_0x19f997(0xe8)](_0x19f997(0x115));if(_0x3ebf4e[_0x19f997(0x10f)]===0x0)return;_0x3ebf4e['forEach'](_0xc114f3=>_0xc114f3[_0x19f997(0xee)]()),console[_0x19f997(0xec)](_0x19f997(0x120));}_0x3e97b0(),setTimeout(()=>{_0x3e97b0(),setTimeout(()=>{if(_0x4cff08)_0x4cff08();},0x12c);},0x12c);}function _0xc0e54f(){const _0x4ef1a5=_0x26a5,_0x3bc244=document[_0x4ef1a5(0xff)](_0x4ef1a5(0x11b));if(!_0x3bc244){console[_0x4ef1a5(0xec)](_0x4ef1a5(0x118));return;}_0x3bc244[_0x4ef1a5(0xee)](),console[_0x4ef1a5(0xec)](_0x4ef1a5(0xe7));}function _0x44ab23(){const _0x2ff47d=_0x26a5;console[_0x2ff47d(0xec)](_0x2ff47d(0x126)),_0xa28f47('[id^=\x22category_block_\x22]\x20select[name=\x22itilcategories_id\x22]',()=>{setTimeout(()=>{const _0x1b3a43=_0x26a5;_0x1ca2a9(_0x1b3a43(0x104),0x1f4),setTimeout(()=>{const _0x3d033f=_0x1b3a43;_0xa28f47(_0x3d033f(0xed),()=>{_0x118589(()=>{setTimeout(()=>{const _0x583b98=_0x26a5;_0x1ca2a9(_0x583b98(0xf3),0x1f4),setTimeout(_0xc0e54f,0x3e8);},0x2bc);});});},0x5dc);},0x64);});}if(_0xad1927()){const _0x1338f9=document[_0xc8c690(0xf9)]('button');_0x1338f9[_0xc8c690(0xf8)]=_0xc8c690(0xeb),_0x1338f9[_0xc8c690(0xe6)][_0xc8c690(0x11e)]=_0xc8c690(0x110),_0x1338f9['style']['top']=_0xc8c690(0x121),_0x1338f9['style']['left']='50%',_0x1338f9['style']['transform']='translateX(-50%)',_0x1338f9[_0xc8c690(0xe6)]['zIndex']='9999',_0x1338f9[_0xc8c690(0xe6)]['padding']=_0xc8c690(0x122),_0x1338f9[_0xc8c690(0xe6)][_0xc8c690(0x101)]=_0xc8c690(0x119),_0x1338f9[_0xc8c690(0xe6)]['color']=_0xc8c690(0x111),_0x1338f9['style'][_0xc8c690(0xf4)]='none',_0x1338f9[_0xc8c690(0xe6)]['borderRadius']='5px',_0x1338f9[_0xc8c690(0xe6)][_0xc8c690(0xe5)]=_0xc8c690(0x129),_0x1338f9[_0xc8c690(0xe6)]['fontSize']='16px',_0x1338f9[_0xc8c690(0xe6)][_0xc8c690(0xf1)]=_0xc8c690(0xfd),_0x1338f9[_0xc8c690(0x123)](_0xc8c690(0xee),_0x44ab23),document[_0xc8c690(0xfa)]['appendChild'](_0x1338f9);}else window['addEventListener'](_0xc8c690(0x102),function(_0x296e72){const _0x546a83=_0xc8c690,_0x11ce72=navigator['platform'][_0x546a83(0x109)]()[_0x546a83(0x125)](_0x546a83(0x10c))>=0x0,_0x596949=_0x11ce72?_0x296e72[_0x546a83(0x117)]:_0x296e72[_0x546a83(0x12a)];_0x596949&&_0x296e72[_0x546a83(0x11d)]&&_0x296e72[_0x546a83(0xf2)][_0x546a83(0xf5)]()==='a'&&(_0x296e72[_0x546a83(0x107)](),_0x44ab23());});}()));
